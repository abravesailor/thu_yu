webpackJsonp([0],{Quw4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("unXG"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("el-form",{ref:"AccountForm",staticClass:"demo-ruleForm login-container",attrs:{model:t.account,rules:t.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[t._v("欢迎登录")]),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入账号"},model:{value:t.account.username,callback:function(e){t.$set(t.account,"username",e)},expression:"account.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"pwd"}},[a("el-input",{attrs:{type:"password",autofocus:t.pwdFocus,"auto-complete":"off",placeholder:"请输入登录密码"},model:{value:t.account.pwd,callback:function(e){t.$set(t.account,"pwd",e)},expression:"account.pwd"}})],1),t._v(" "),a("el-form-item",{staticClass:"extra-text"},[a("a",{staticClass:"forget-pwd",attrs:{href:"javascript:;",title:"找回密码"}},[t._v("忘记密码?")]),t._v(" "),a("router-link",{staticClass:"reg-text",attrs:{to:{path:"/register"},title:"立即注册"}},[t._v("立即注册")])],1),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",disabled:t.allowLogin,loading:t.loading},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登录")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-content"},[e("div",{staticClass:"logo-part"},[e("img",{attrs:{src:a("7Otq"),width:"30",height:"30"}}),this._v(" "),e("span",[this._v("小组讨论系统")])])])}]};var o=function(t){a("mljL")},i=a("VU/8")(n.a,s,!1,o,"data-v-12374cb6",null);e.default=i.exports},mljL:function(t,e){},unXG:function(t,e,a){"use strict";(function(t){var n=a("mvHQ"),s=a.n(n);e.a={data:function(){var t=this;return{loading:!1,account:{username:"",pwd:""},rules:{username:[{required:!0,validator:function(e,a,n){""===a?n(new Error("请输入账号")):(""!==t.account.username&&(t.account.username=a,t.validateCorrect()),n())},trigger:"change"}],pwd:[{required:!0,validator:function(e,a,n){""===a?n(new Error("请输入密码")):(""!==t.account.pwd&&(t.account.pwd=a,t.validateCorrect()),n())},trigger:"change"}]},pwdFocus:!1,allowLogin:!0,checked:!0}},created:function(){var t=JSON.parse(window.sessionStorage.getItem("register-user"));t&&(this.account.username=t.username,this.account.pwd="",this.pwdFocus=!0)},methods:{handleLogin:function(){this.account.username;console.log(this.account.username);var e=this,a=this.account.username,n=this.account.pwd,o=!0;a.length>=4&&a.length<=8||(o=!1),n.length>=1&&n.length<=16||(o=!1);!0===o?t.ajax({type:"post",url:"/api/login_ajax",contentType:"application/json; charset=utf-8",data:s()({login_name:a,login_password:n}),dataType:"json",success:function(t){if("success"===t.status){console.log(a);var s=window.sessionStorage;s.setItem("login",a),s.setItem("password",n),s.setItem("auth",t.permission),window.sessionStorage.login===a&&e.$router.push("/classes")}else e.seen="loginfail",e.$notify({title:"提示",message:t.failed_reason})},error:function(t){e.seen="loginfail",e.$notify({title:"提示",message:"网络链接失败！"})}}):e.seen="loginfail"},validateCorrect:function(){this.account.pwd.trim().length>0&&this.account.username.trim().length>0?this.allowLogin=!1:this.allowLogin=!0}}}}).call(e,a("7t+N"))}});
//# sourceMappingURL=0.d86b7e80d6366e52dfcc.js.map